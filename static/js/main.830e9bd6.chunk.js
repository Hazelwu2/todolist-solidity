(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{192:function(e){e.exports={_format:"hh-sol-artifact-1",contractName:"TodoList",sourceName:"contracts/TodoList.sol",abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"bool",name:"completed",type:"bool"}],name:"TaskCompleted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"string",name:"content",type:"string"},{indexed:!1,internalType:"bool",name:"completed",type:"bool"}],name:"TaskCreated",type:"event"},{inputs:[{internalType:"string",name:"_content",type:"string"}],name:"createTask",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"taskCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tasks",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string",name:"content",type:"string"},{internalType:"bool",name:"completed",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"toggleCompleted",outputs:[],stateMutability:"nonpayable",type:"function"}],bytecode:"0x6080604052600080553480156200001557600080fd5b506200005c6040518060400160405280601b81526020017f5772697465204b63727970746f43616d7020486f6d6577726f6b2100000000008152506200006260201b60201c565b620003f0565b600080815480929190620000769062000227565b919050555060405180606001604052806000548152602001828152602001600015158152506001600080548152602001908152602001600020600082015181600001556020820151816001019080519060200190620000d79291906200013e565b5060408201518160020160006101000a81548160ff0219169083151502179055509050507f05d0fb833127fc08168556d0e7ca9554fc3f6bc843b3b7d2bf1c35aea6bab660600054826000604051620001339392919062000347565b60405180910390a150565b8280546200014c90620003ba565b90600052602060002090601f016020900481019282620001705760008555620001bc565b82601f106200018b57805160ff1916838001178555620001bc565b82800160010185558215620001bc579182015b82811115620001bb5782518255916020019190600101906200019e565b5b509050620001cb9190620001cf565b5090565b5b80821115620001ea576000816000905550600101620001d0565b5090565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000819050919050565b600062000234826200021d565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156200026a5762000269620001ee565b5b600182019050919050565b62000280816200021d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015620002c2578082015181840152602081019050620002a5565b83811115620002d2576000848401525b50505050565b6000601f19601f8301169050919050565b6000620002f68262000286565b62000302818562000291565b935062000314818560208601620002a2565b6200031f81620002d8565b840191505092915050565b60008115159050919050565b62000341816200032a565b82525050565b60006060820190506200035e600083018662000275565b8181036020830152620003728185620002e9565b905062000383604083018462000336565b949350505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680620003d357607f821691505b60208210811415620003ea57620003e96200038b565b5b50919050565b6108ed80620004006000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c8063111002aa14610051578063455f50241461006d5780638d97767214610089578063b6cb58a5146100bb575b600080fd5b61006b600480360381019061006691906105fe565b6100d9565b005b6100876004803603810190610082919061067d565b6101af565b005b6100a3600480360381019061009e919061067d565b61033c565b6040516100b29392919061075c565b60405180910390f35b6100c36103fb565b6040516100d0919061079a565b60405180910390f35b6000808154809291906100eb906107e4565b91905055506040518060600160405280600054815260200182815260200160001515815250600160008054815260200190815260200160002060008201518160000155602082015181600101908051906020019061014a929190610401565b5060408201518160020160006101000a81548160ff0219169083151502179055509050507f05d0fb833127fc08168556d0e7ca9554fc3f6bc843b3b7d2bf1c35aea6bab6606000548260006040516101a49392919061075c565b60405180910390a150565b600060016000838152602001908152602001600020604051806060016040529081600082015481526020016001820180546101e99061085c565b80601f01602080910402602001604051908101604052809291908181526020018280546102159061085c565b80156102625780601f1061023757610100808354040283529160200191610262565b820191906000526020600020905b81548152906001019060200180831161024557829003601f168201915b505050505081526020016002820160009054906101000a900460ff161515151581525050905080604001511581604001901515908115158152505080600160008481526020019081526020016000206000820151816000015560208201518160010190805190602001906102d7929190610401565b5060408201518160020160006101000a81548160ff0219169083151502179055509050507fe21fa966ca5cd02748c0752352d18c48165e61cb55b4c29cccf924b5a95fcff182826040015160405161033092919061088e565b60405180910390a15050565b60016020528060005260406000206000915090508060000154908060010180546103659061085c565b80601f01602080910402602001604051908101604052809291908181526020018280546103919061085c565b80156103de5780601f106103b3576101008083540402835291602001916103de565b820191906000526020600020905b8154815290600101906020018083116103c157829003601f168201915b5050505050908060020160009054906101000a900460ff16905083565b60005481565b82805461040d9061085c565b90600052602060002090601f01602090048101928261042f5760008555610476565b82601f1061044857805160ff1916838001178555610476565b82800160010185558215610476579182015b8281111561047557825182559160200191906001019061045a565b5b5090506104839190610487565b5090565b5b808211156104a0576000816000905550600101610488565b5090565b6000604051905090565b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61050b826104c2565b810181811067ffffffffffffffff8211171561052a576105296104d3565b5b80604052505050565b600061053d6104a4565b90506105498282610502565b919050565b600067ffffffffffffffff821115610569576105686104d3565b5b610572826104c2565b9050602081019050919050565b82818337600083830152505050565b60006105a161059c8461054e565b610533565b9050828152602081018484840111156105bd576105bc6104bd565b5b6105c884828561057f565b509392505050565b600082601f8301126105e5576105e46104b8565b5b81356105f584826020860161058e565b91505092915050565b600060208284031215610614576106136104ae565b5b600082013567ffffffffffffffff811115610632576106316104b3565b5b61063e848285016105d0565b91505092915050565b6000819050919050565b61065a81610647565b811461066557600080fd5b50565b60008135905061067781610651565b92915050565b600060208284031215610693576106926104ae565b5b60006106a184828501610668565b91505092915050565b6106b381610647565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b838110156106f35780820151818401526020810190506106d8565b83811115610702576000848401525b50505050565b6000610713826106b9565b61071d81856106c4565b935061072d8185602086016106d5565b610736816104c2565b840191505092915050565b60008115159050919050565b61075681610741565b82525050565b600060608201905061077160008301866106aa565b81810360208301526107838185610708565b9050610792604083018461074d565b949350505050565b60006020820190506107af60008301846106aa565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006107ef82610647565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415610822576108216107b5565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061087457607f821691505b602082108114156108885761088761082d565b5b50919050565b60006040820190506108a360008301856106aa565b6108b0602083018461074d565b939250505056fea26469706673582212205afa175e3d4d96620ed1a29052e69b358451a1a7d1331c2455d7a0b345d8466364736f6c634300080a0033",deployedBytecode:"0x608060405234801561001057600080fd5b506004361061004c5760003560e01c8063111002aa14610051578063455f50241461006d5780638d97767214610089578063b6cb58a5146100bb575b600080fd5b61006b600480360381019061006691906105fe565b6100d9565b005b6100876004803603810190610082919061067d565b6101af565b005b6100a3600480360381019061009e919061067d565b61033c565b6040516100b29392919061075c565b60405180910390f35b6100c36103fb565b6040516100d0919061079a565b60405180910390f35b6000808154809291906100eb906107e4565b91905055506040518060600160405280600054815260200182815260200160001515815250600160008054815260200190815260200160002060008201518160000155602082015181600101908051906020019061014a929190610401565b5060408201518160020160006101000a81548160ff0219169083151502179055509050507f05d0fb833127fc08168556d0e7ca9554fc3f6bc843b3b7d2bf1c35aea6bab6606000548260006040516101a49392919061075c565b60405180910390a150565b600060016000838152602001908152602001600020604051806060016040529081600082015481526020016001820180546101e99061085c565b80601f01602080910402602001604051908101604052809291908181526020018280546102159061085c565b80156102625780601f1061023757610100808354040283529160200191610262565b820191906000526020600020905b81548152906001019060200180831161024557829003601f168201915b505050505081526020016002820160009054906101000a900460ff161515151581525050905080604001511581604001901515908115158152505080600160008481526020019081526020016000206000820151816000015560208201518160010190805190602001906102d7929190610401565b5060408201518160020160006101000a81548160ff0219169083151502179055509050507fe21fa966ca5cd02748c0752352d18c48165e61cb55b4c29cccf924b5a95fcff182826040015160405161033092919061088e565b60405180910390a15050565b60016020528060005260406000206000915090508060000154908060010180546103659061085c565b80601f01602080910402602001604051908101604052809291908181526020018280546103919061085c565b80156103de5780601f106103b3576101008083540402835291602001916103de565b820191906000526020600020905b8154815290600101906020018083116103c157829003601f168201915b5050505050908060020160009054906101000a900460ff16905083565b60005481565b82805461040d9061085c565b90600052602060002090601f01602090048101928261042f5760008555610476565b82601f1061044857805160ff1916838001178555610476565b82800160010185558215610476579182015b8281111561047557825182559160200191906001019061045a565b5b5090506104839190610487565b5090565b5b808211156104a0576000816000905550600101610488565b5090565b6000604051905090565b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61050b826104c2565b810181811067ffffffffffffffff8211171561052a576105296104d3565b5b80604052505050565b600061053d6104a4565b90506105498282610502565b919050565b600067ffffffffffffffff821115610569576105686104d3565b5b610572826104c2565b9050602081019050919050565b82818337600083830152505050565b60006105a161059c8461054e565b610533565b9050828152602081018484840111156105bd576105bc6104bd565b5b6105c884828561057f565b509392505050565b600082601f8301126105e5576105e46104b8565b5b81356105f584826020860161058e565b91505092915050565b600060208284031215610614576106136104ae565b5b600082013567ffffffffffffffff811115610632576106316104b3565b5b61063e848285016105d0565b91505092915050565b6000819050919050565b61065a81610647565b811461066557600080fd5b50565b60008135905061067781610651565b92915050565b600060208284031215610693576106926104ae565b5b60006106a184828501610668565b91505092915050565b6106b381610647565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b838110156106f35780820151818401526020810190506106d8565b83811115610702576000848401525b50505050565b6000610713826106b9565b61071d81856106c4565b935061072d8185602086016106d5565b610736816104c2565b840191505092915050565b60008115159050919050565b61075681610741565b82525050565b600060608201905061077160008301866106aa565b81810360208301526107838185610708565b9050610792604083018461074d565b949350505050565b60006020820190506107af60008301846106aa565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006107ef82610647565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415610822576108216107b5565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061087457607f821691505b602082108114156108885761088761082d565b5b50919050565b60006040820190506108a360008301856106aa565b6108b0602083018461074d565b939250505056fea26469706673582212205afa175e3d4d96620ed1a29052e69b358451a1a7d1331c2455d7a0b345d8466364736f6c634300080a0033",linkReferences:{},deployedLinkReferences:{}}},196:function(e,t,f){e.exports=f(495)},201:function(e,t,f){},218:function(e,t){},221:function(e,t){},224:function(e,t){},228:function(e,t){},253:function(e,t){},255:function(e,t){},269:function(e,t){},271:function(e,t){},302:function(e,t){},304:function(e,t){},396:function(e,t){},397:function(e,t){},491:function(e,t,f){},495:function(e,t,f){"use strict";f.r(t);var a=f(12),b=f.n(a),n=f(190),c=f.n(n),o=(f(201),f(193)),s=f(18),i=f.n(s),d=f(70),r=f(5),l=f(10),u=f(8),p=f(6),m=f(11),y=f(41),h=f(104),k=f.n(h),g=(f(491),f(493),f(192)),v=f(105),T=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return b.a.createElement("div",{id:"content"},b.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.props.createTask(e.task.value)}},b.a.createElement("input",{id:"newTask",ref:function(t){e.task=t},type:"text",className:"form-control",placeholder:"\u65b0\u589e Todo",required:!0}),b.a.createElement("input",{type:"submit",hidden:!0})),b.a.createElement("ul",{id:"taskList",className:"list-unstyled"},this.props.tasks.map(function(t,f){var a;return b.a.createElement("div",(a={className:"taskTemplate"},Object(v.a)(a,"className","checkbox"),Object(v.a)(a,"key",f),a),b.a.createElement("label",null,b.a.createElement("input",{type:"checkbox",name:t.id,defaultChecked:t.completed,ref:function(t){e.checkbox=t},onClick:function(t){e.props.toggleCompleted(e.checkbox.name)}}),b.a.createElement("span",{className:"content"},t.content)))})),b.a.createElement("ul",{id:"completedTaskList",className:"list-unstyled"}))}}]),t}(a.Component),x=new k.a(k.a.givenProvider||"http://localhost:7545"),C=function(e){function t(e){var f;return Object(r.a)(this,t),(f=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={account:"",taskCount:0,tasks:[],loading:!0},f.createTask=f.createTask.bind(Object(y.a)(Object(y.a)(f))),f.toggleCompleted=f.toggleCompleted.bind(Object(y.a)(Object(y.a)(f))),f}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){this.loadBloackchainData()}},{key:"loadBloackchainData",value:function(){var e=Object(d.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.getAccounts(),this.getContract();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAccounts",value:function(){var e=Object(d.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.eth.getAccounts();case 2:t=e.sent,this.setState({account:t[0]});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getContract",value:function(){var e=Object(d.a)(i.a.mark(function e(){var t,f,a,b;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({tasks:[]}),t=new x.eth.Contract(g.abi,"0xa50764364bc5a88445B3bA14D979Ec1e0a02afce"),this.setState({todoList:t}),e.next=5,t.methods.taskCount().call();case 5:f=e.sent,this.setState({taskCount:f}),a=1;case 8:if(!(a<=f)){e.next=17;break}return console.error("for loop getContract"),e.next=12,t.methods.tasks(a).call();case 12:b=e.sent,this.setState({tasks:[].concat(Object(o.a)(this.state.tasks),[b])});case 14:a++,e.next=8;break;case 17:this.setState({loading:!1}),console.log("state.tasks",this.state.tasks);case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createTask",value:function(e){var t=this;this.setState({loading:!0}),this.state.todoList.methods.createTask(e).send({from:this.state.account}).once("receipt",function(e){t.setState({loading:!1}),t.getContract()})}},{key:"toggleCompleted",value:function(e){var t=this;this.setState({loading:!0}),this.state.todoList.methods.toggleCompleted(e).send({from:this.state.account}).once("receipt",function(e){console.log(e),t.getContract(),t.setState({loading:!1})})}}]),Object(p.a)(t,[{key:"render",value:function(){return b.a.createElement("div",null,b.a.createElement("nav",{className:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},b.a.createElement("a",{className:"navbar-brand col-sm-3 col-md-2 mr-0",href:"http://www.dappuniversity.com/free-download",target:"_blank"},"KcryptoCamp Week4 Homework | Todo List"),b.a.createElement("ul",{className:"navbar-nav px-3"},b.a.createElement("li",{className:"nav-item text-nowrap d-none d-sm-none d-sm-block"},b.a.createElement("small",null,b.a.createElement("a",{className:"nav-link",href:"#"},b.a.createElement("span",{id:"account"})))))),b.a.createElement("div",{className:"container-fluid"},b.a.createElement("div",{className:"row"},b.a.createElement("main",{role:"main",className:"col-lg-12 d-flex justify-content-center"},this.state.loading?b.a.createElement("div",{id:"loader",className:"text-center"},b.a.createElement("p",{className:"text-center"},"Loading...")):b.a.createElement(T,{tasks:this.state.tasks,createTask:this.createTask,toggleCompleted:this.toggleCompleted})))))}}]),t}(a.Component),E=function(e){e&&e instanceof Function&&f.e(1).then(f.bind(null,499)).then(function(t){var f=t.getCLS,a=t.getFID,b=t.getFCP,n=t.getLCP,c=t.getTTFB;f(e),a(e),b(e),n(e),c(e)})};c.a.render(b.a.createElement(b.a.StrictMode,null,b.a.createElement(C,null)),document.getElementById("root")),E()}},[[196,3,2]]]);
//# sourceMappingURL=main.830e9bd6.chunk.js.map